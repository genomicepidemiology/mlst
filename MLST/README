MLST 1.8.0
===================

This project documents MLST service


Documentation
=============

## What is it?

The MLST service contains one perl script *MLST-1.8.pl* which is the script of the lates
version of the MLST service. The method enables investigators to determine the ST based on WGS data.

## Installation

To use the service some data needs to be pre-installed: *database*, Blast and several Perl dependencies.

The folder *database* includes all the MLST schemes and needs to be updataed to get the best results.
The datasets are extracted from the http://pubmlst.org/ webside weekly and can be downloaded from
http://cge.cbs.dtu.dk/services/data.php. The folder also includes the *mlst_schemes* file which is
used by the program but also contains the different MLST schemes provided and what to write
in the commandline to use a particular shceme.

There are two options for installing and running MLST. You can install perlbrew, which is used to manage isolated perl environments,
and install and run MLST in the isolated enviroment or just install and run in your own enviroment.
If you uses perlbrew first do:

```bash
bash install_brew.sh
```

This will install Perlbrew with Perl 5.10, along with CPAN minus as package manager.
After running brew.sh the isolated perl enviroment can be used:

```bash
perlbrew use perl-5.10.0
```

Now MLST can be installed, in the enviorment you want, along with the dependencies and BLAST,
if BlastAll and FormatDB are not already installed and place in the user's path.
```bash
bash install.sh
```

After the instalation of blast add this command to the end of your ~/bash_profile to add BlastAll and
FormatDB to the user's path
```bash
export PATH=$PATH:blast-2.2.26/bin
```

If you want to download the two external tools from the Blast package, BlastAll and FormatDB, yourself go to
```url
ftp://ftp.ncbi.nlm.nih.gov/blast/executables/release/LATEST
```

and download the version for your OS with the format:
```url
blast-version-architecture-OS.tar.gz
```

after unzipping the file, add this command to the end of your ~/bash_profile.
```bash
export PATH=$PATH:/path/to/blast-folder/bin
```

where path/to/blast-folder is the folder you unzipped.

The scripts are self contained. You just have to copy them to where they should
be used. Only the *database* folder needs to be updated mannually.

Remember to add the program to your system path if you want to be able to invoke the program without calling the full path.
If you don't do that you have to write the full path to the program when using it.

## Usage

The program can be invoked with the -h option to get help and more information of the service.

```bash
Usage: MLST.pm [options]

Options:

    -h HELP
                    Prints a message with options and information to the screen
    -d DATABASE
                    The path to where you have located the database folder
    -b BLAST
                    The path to the location of blast-2.2.26 if it is not added
                    to the users path (see the install guide in 'README')
    -i INFILE
                    Your input file which needs to be preassembled partial
                    or complete genomes in fasta format
    -o OUTFOLDER
                    The folder you want to have your output files stored.
                    If not specified the program store the output in your
                    current directory.
    -s SPECIES
                    The MLST scheme you want to use. The options can be found
                    in the 'mlst_schemes' file in the 'database' folder
```

#### Example of use with the *database* folder located in the current directory
```perl
    MLST.pm -i test.fsa -s ecoli
```
#### Example of use with the *database* loacted in another directory and a specified output folder
```perl
    MLST.pm -d path/to/database -i test.fsa -o OUTFOLDER -s ecoli
```

## Web-server

A webserver implementing the methods is available at the [CGE website](http://www.genomicepidemiology.org/) and can be found here:
https://cge.cbs.dtu.dk/services/MLST/


## The Latest Version


The latest version can be found at
https://bitbucket.org/genomicepidemiology/mlst/overview

## Documentation


The documentation available as of the date of this release can be found at
https://bitbucket.org/genomicepidemiology/mlst/overview.


Citation
=======

When using the method please cite:

Multilocus Sequence Typing of Total Genome Sequenced Bacteria.
Larsen MV, Cosentino S, Rasmussen S, Friis C, Hasman H, Marvig RL,
Jelsbak L, Sicheritz-Pontï¿½n T, Ussery DW, Aarestrup FM and Lund O.
J. Clin. Micobiol. 2012. 50(4): 1355-1361.
PMID: 22238442         doi: 10.1128/JCM.06094-11
[Epub ahead of print]


License
=======


Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
